<!DOCTYPE html>
<html>
  <head>
    <title>{{ title }}</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/socket.io/socket.io.js" type="text/javascript"></script>
    <link   href='/stylesheets/style.css' type="text/css" rel="stylesheet"  />
  </head>
  <body>

    <div id="contents">
        <div class="title">
            Tile Engine
            <span id="fps_container">
                fps: <span id="fps"></span>
            </span>
        </div>

        <canvas id="canvas" width="800" height="416"></canvas>

        <div class="instructions">
            Arrows for movement, z-button for action
        </div>

        <div id="vol_controls">
            <div id="music_vol_up">music up</div>
            <div id="music_vol_down">music down</div>
            <div id="music_on">music on</div>
            <div id="music_off">music off</div>

            <div id="sfx_vol_up">sfx up</div>
            <div id="sfx_vol_down">sfx down</div>
            <div id="sfx_on">sfx on</div>
            <div id="sfx_off">sfx off</div>
        </div>
    </div>


    <script src="/engine/engine.js"         type="text/javascript"></script>
    <script src='/engine/audio_manager.js'  type="text/javascript"></script>
    <script src="/engine/map.js"            type="text/javascript"></script>
    <script src="/engine/layer.js"          type="text/javascript"></script>
    <script src='/engine/spritesheet.js'    type="text/javascript"></script>
    <script src='/engine/actionable.js'     type="text/javascript"></script>
    <script src='/engine/displayable.js'    type="text/javascript"></script>
    <script src='/engine/player.js'         type="text/javascript"></script>
    <script src='/engine/npc.js'            type="text/javascript"></script>
    <script src='/engine/tile.js'           type="text/javascript"></script>
    <script src='/engine/animated_tile.js'  type="text/javascript"></script>
    <script src='/engine/keyboard.js'       type="text/javascript"></script>
    <script src='/engine/screen.js'         type="text/javascript"></script>
    <script src='/engine/viewport.js'       type="text/javascript"></script>
    <script src='/engine/dialog.js'         type="text/javascript"></script>

    <script type="text/javascript">
      var engine = new Grouter("#canvas", '/maps/{{ map }}');

      $("#vol_controls").find("div").each(function(){
        var control = $(this);
        control.click(function(){$(document).trigger(control.attr("id"))});
      })
    </script>


  </body>
</html>